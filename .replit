# Replit configuration for Gymmawy PERN Stack

[run]
language = "nodejs"
run = "npm run dev"

[deployment]
run = ["sh", "-c", "cd gymmawy-backend && npm install && npm run migrate-to-render && npm start"]

[env]
NODE_ENV = "production"
PORT = "3000"

[gitHubImport]
requiredFiles = [".replit", "replit.nix", "package.json"]

[unitTest]
language = "nodejs"

[debugger]
support = true
transport = "localhost:0"
startCommand = ["dap-node", "--stdio", "node", "gymmawy-backend/src/server.js"]

[languages]

[languages.javascript]
pattern = "**/{*.js,*.jsx,*.ts,*.tsx,*.json}"

[languages.javascript.languageServer]
languageServer = "typescript-language-server"
languageServerArgs = ["--stdio"]

[interpreter]
command = ["node", "gymmawy-backend/src/server.js"]
